<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Detalle</title>
  </head>
  <body>
    <a href="index.html">Inicio</a>
    <img
      src="https://colossalmedia.com/wp-content/uploads/2019/06/loading-bananas.gif"
      id="cargandoGif"
      style="width: 200px"
    />

    <p id="id"></p>
    <h1 id="titulo"></h1>
    <img id="imagen" />

    <script>
      const url = new URL(window.location.href);
      console.log(url);
      const parametro = url.searchParams;
      const id = parametro.get("id");
      console.log("id");
      document.getElementById("id").innerHTML = id;

      const urlDetalle = `https://jsonplaceholder.typicode.com/photos/${id}`;
      fetch(urlDetalle)
        .then((respuesta) => {
          respuesta.json();
        })
        .then((foto) => {
          document.getElementById("titulo").innerHTML = foto.title;
          document.getElementById("imagen").src = foto.url;
        })
        .catch((error) => {
          document.getElementById("error").innerHTML = error.message;
          console.log(error);
        })
        .finally(() => {
          document.getElementById("cargando".innerHTML = "afsdfs");
          document.getElementById("cargandoGif").src = "";
          console.log("proceso terminado");
        });
    </script>
  </body>
</html>
